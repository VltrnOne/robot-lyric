<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="AriaPac - A 2-player Jurassic Park themed Pacman game">
    <title>AriaPac - Safari vs Dinosaurs</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-wrapper">
        <!-- Game Header -->
        <header id="game-header">
            <h1>AriaPac</h1>
            <div id="game-info">
                <div class="info-section">
                    <span class="label">Level:</span>
                    <span id="level-display">1</span>
                </div>
                <div class="info-section">
                    <span class="label">Score:</span>
                    <span id="score-display">0</span>
                </div>
                <div class="info-section">
                    <span class="label">High Score:</span>
                    <span id="high-score-display">0</span>
                </div>
                <div class="info-section">
                    <span class="label">Lives:</span>
                    <span id="lives-display">3</span>
                </div>
            </div>
        </header>

        <!-- Player HUD (Mobile: Above Canvas) -->
        <div id="player-hud">
            <div class="hud-section p1-hud" data-player="1">
                <div class="hud-compact">
                    <span class="hud-title">P1</span>
                    <div class="stamina-bar-mini">
                        <div id="stamina-bar-fill" class="bar-fill"></div>
                    </div>
                    <div class="powerup-inventory-mini">
                        <span class="powerup-count red" id="red-freeze-count">0</span>
                        <span class="powerup-count blue" id="blue-freeze-count">0</span>
                        <span class="powerup-count green" id="green-freeze-count">0</span>
                        <span class="powerup-count orange" id="orange-freeze-count">0</span>
                    </div>
                </div>
            </div>

            <div class="hud-section p2-hud" data-player="2">
                <div class="hud-compact">
                    <span class="hud-title">P2</span>
                    <div id="active-dino-display" class="dino-display-mini">Raptor</div>
                    <div class="ability-cooldown-mini">
                        <div id="ability-cooldown-fill" class="bar-fill"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Game Container -->
        <div id="game-container">
            <!-- Canvas Layers -->
            <canvas id="bg-layer"></canvas>
            <canvas id="entity-layer"></canvas>
            <canvas id="ui-layer"></canvas>

            <!-- Game Overlays -->
            <div id="menu-overlay" class="overlay active">
                <div class="menu-content">
                    <h2>AriaPac</h2>
                    <p class="subtitle">Safari Explorer vs Dinosaurs</p>

                    <!-- Player Selection (Mobile Only) -->
                    <div id="player-selection" class="player-selection hidden">
                        <p class="selection-prompt">Choose Your Player:</p>
                        <div class="player-select-buttons">
                            <button id="select-p1-btn" class="btn-player p1">
                                <span class="player-icon">üß≠</span>
                                <span class="player-name">Safari Explorer</span>
                            </button>
                            <button id="select-p2-btn" class="btn-player p2">
                                <span class="player-icon">ü¶ñ</span>
                                <span class="player-name">Dinosaur Pack</span>
                            </button>
                        </div>
                    </div>

                    <div class="menu-buttons">
                        <button id="start-game-btn" class="btn-primary">Start Game</button>
                        <button id="instructions-btn" class="btn-secondary">Instructions</button>
                        <button id="settings-btn" class="btn-secondary">Settings</button>
                    </div>
                </div>
            </div>

            <div id="instructions-overlay" class="overlay">
                <div class="instructions-content">
                    <h2>How to Play</h2>

                    <div class="player-instructions">
                        <h3>Player 1 - Safari Explorer</h3>
                        <ul>
                            <li><strong>Movement:</strong> W/A/S/D or Arrow Keys</li>
                            <li><strong>Sprint:</strong> Hold SHIFT (limited stamina)</li>
                            <li><strong>Freeze Powers:</strong> Press 1 (Red), 2 (Blue), 3 (Green), 4 (Orange)</li>
                            <li><strong>Goal:</strong> Collect all pellets while avoiding dinosaurs</li>
                        </ul>
                    </div>

                    <div class="player-instructions">
                        <h3>Player 2 - Dinosaur Controller</h3>
                        <ul>
                            <li><strong>Movement:</strong> I/J/K/L keys</li>
                            <li><strong>Switch Dinos:</strong> U (Raptor), O (Pterodactyl), P (Triceratops), [ (T-Rex)</li>
                            <li><strong>Special Ability:</strong> SPACE (varies by dinosaur)</li>
                            <li><strong>Cycle Dinos:</strong> TAB</li>
                            <li><strong>Goal:</strong> Catch the safari explorer</li>
                        </ul>
                    </div>

                    <div class="dinosaur-info">
                        <h3>Dinosaur Abilities</h3>
                        <div class="dino-grid">
                            <div class="dino-card red">
                                <h4>Raptor</h4>
                                <p>Fast & agile. Ability: Pounce forward 3 tiles.</p>
                            </div>
                            <div class="dino-card blue">
                                <h4>Pterodactyl</h4>
                                <p>Scout with vision. Ability: Sonar reveals player.</p>
                            </div>
                            <div class="dino-card green">
                                <h4>Triceratops</h4>
                                <p>Slow tank. Ability: Stampede charge.</p>
                            </div>
                            <div class="dino-card orange">
                                <h4>T-Rex</h4>
                                <p>Boss dino. Ability: Roar impairs player.</p>
                            </div>
                        </div>
                    </div>

                    <button id="back-to-menu-btn" class="btn-primary">Back to Menu</button>
                </div>
            </div>

            <div id="pause-overlay" class="overlay">
                <div class="pause-content">
                    <h2>Paused</h2>
                    <div class="menu-buttons">
                        <button id="resume-btn" class="btn-primary">Resume</button>
                        <button id="restart-btn" class="btn-secondary">Restart Level</button>
                        <button id="quit-btn" class="btn-secondary">Quit to Menu</button>
                    </div>
                </div>
            </div>

            <div id="level-complete-overlay" class="overlay">
                <div class="level-complete-content">
                    <h2>Level Complete!</h2>
                    <div id="level-stats">
                        <p>Time: <span id="time-stat">0:00</span></p>
                        <p>Pellets: <span id="pellets-stat">0/0</span></p>
                        <p>Bonus: <span id="bonus-stat">0</span></p>
                    </div>
                    <button id="next-level-btn" class="btn-primary">Next Level</button>
                </div>
            </div>

            <div id="game-over-overlay" class="overlay">
                <div class="game-over-content">
                    <h2 id="winner-text">Game Over</h2>
                    <div id="final-stats">
                        <p>Final Score: <span id="final-score">0</span></p>
                        <p>Levels Completed: <span id="levels-completed">0</span></p>
                    </div>
                    <div class="menu-buttons">
                        <button id="play-again-btn" class="btn-primary">Play Again</button>
                        <button id="menu-btn" class="btn-secondary">Main Menu</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Touch Controls -->
        <div id="mobile-controls" class="mobile-controls hidden">
            <!-- Left side - Action Buttons -->
            <div class="mobile-actions">
                <!-- Player 1 Actions -->
                <div class="p1-actions player-controls" data-player="1">
                    <button class="action-btn sprint-btn" data-key="Shift" data-player="1">
                        <span class="btn-icon">‚ö°</span>
                        <span class="btn-label">Sprint</span>
                    </button>
                    <div class="freeze-buttons">
                        <button class="freeze-btn small red" data-key="1" data-player="1">1</button>
                        <button class="freeze-btn small blue" data-key="2" data-player="1">2</button>
                        <button class="freeze-btn small green" data-key="3" data-player="1">3</button>
                        <button class="freeze-btn small orange" data-key="4" data-player="1">4</button>
                    </div>
                </div>

                <!-- Player 2 Actions -->
                <div class="p2-actions player-controls" data-player="2">
                    <button class="action-btn ability-btn" data-key=" " data-player="2">
                        <span class="btn-icon">‚ú®</span>
                        <span class="btn-label">Ability</span>
                    </button>
                    <div class="dino-buttons">
                        <button class="dino-btn small raptor" data-key="u" data-player="2">U</button>
                        <button class="dino-btn small ptero" data-key="o" data-player="2">O</button>
                        <button class="dino-btn small trike" data-key="p" data-player="2">P</button>
                        <button class="dino-btn small trex" data-key="[" data-player="2">[</button>
                    </div>
                </div>
            </div>

            <!-- Right side - Virtual Joystick -->
            <div class="mobile-joystick">
                <div id="joystick-container" class="joystick-container">
                    <div id="joystick-base" class="joystick-base">
                        <div id="joystick-stick" class="joystick-stick"></div>
                    </div>
                </div>
            </div>

            <!-- Pause Button -->
            <button id="mobile-pause-btn" class="mobile-pause-btn">‚ùö‚ùö</button>
        </div>

        <!-- Footer -->
        <footer id="game-footer">
            <div class="footer-controls">
                <button id="fullscreen-btn" class="btn-icon" title="Toggle Fullscreen">‚õ∂</button>
                <button id="mute-btn" class="btn-icon" title="Toggle Sound">üîä</button>
                <button id="audio-settings-btn" class="btn-icon" title="Audio Settings">üéµ</button>
            </div>
            <span class="controls-hint">Press ESC to pause | F11 for fullscreen</span>
        </footer>

        <!-- Audio Settings Panel -->
        <div id="audio-settings-panel" class="settings-panel hidden">
            <div class="settings-content">
                <h3>Audio Settings</h3>
                <div class="volume-controls">
                    <div class="volume-control">
                        <label for="master-volume">
                            <span>Master Volume</span>
                            <span id="master-volume-value">70%</span>
                        </label>
                        <input type="range" id="master-volume" min="0" max="100" value="70">
                    </div>
                    <div class="volume-control">
                        <label for="music-volume">
                            <span>Music Volume</span>
                            <span id="music-volume-value">50%</span>
                        </label>
                        <input type="range" id="music-volume" min="0" max="100" value="50">
                    </div>
                    <div class="volume-control">
                        <label for="sfx-volume">
                            <span>SFX Volume</span>
                            <span id="sfx-volume-value">60%</span>
                        </label>
                        <input type="range" id="sfx-volume" min="0" max="100" value="60">
                    </div>
                </div>
                <button id="close-audio-settings" class="btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Game Scripts -->
    <script src="js/constants.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/input.js"></script>
    <script src="js/mobile.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/maze.js"></script>
    <script src="js/powerups.js"></script>
    <script src="js/player.js"></script>
    <script src="js/enemy.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
